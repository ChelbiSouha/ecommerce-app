<div class="cart-wrapper">
  <div class="cart-container" *ngIf="items.length; else emptyCart">
    <h2 class="cart-title">üõí Mon Panier</h2>

    <div class="cart-items">
      <div class="cart-item" *ngFor="let item of items">
        <div class="details">
          <h3 class="product-name">‚ú® {{ item.productName }}</h3>
          <p>Prix unitaire: {{ item.price | currency:'TND':'symbol':'1.2-2' }}</p>
          <div class="quantity">
            Quantit√©:
            <input type="number" [value]="item.quantity" min="1"
                   (change)="updateQuantity(item.productId, $event)">
          </div>
          <p>Sous-total: {{ item.price * item.quantity | currency:'TND':'symbol':'1.2-2' }}</p>
          <button mat-raised-button color="warn" (click)="removeItem(item.productId)">
            <mat-icon>delete</mat-icon> Supprimer
          </button>
        </div>
      </div>
    </div>

    <div class="cart-summary">
      <p>Sous-total: {{ subtotal | currency:'TND':'symbol':'1.2-2' }}</p>
      <p>Frais de livraison: {{ items.length ? shippingFee : 0 | currency:'TND':'symbol':'1.2-2' }}</p>
      <h3>Total: {{ total | currency:'TND':'symbol':'1.2-2' }}</h3>
      <button mat-raised-button color="primary" [routerLink]="['/payment']">
        <mat-icon>payment</mat-icon> Proc√©der au paiement
      </button>
    </div>
  </div>
</div>

<ng-template #emptyCart>
  <p class="empty-msg">Votre panier est vide üõçÔ∏è</p>
</ng-template>
